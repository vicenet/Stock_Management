{% extends 'shop/index.html' %}

{% load static %}

{% block content %}
  <div class="main-panel">
    <div class="content-wrapper">
      <div class="row">
        <div class="col-sm-12">
          <div class="home-tab">
            <div class="d-sm-flex align-items-center justify-content-between border-bottom">
              <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active ps-0" id="home-tab" data-bs-toggle="tab" href="#overview" role="tab" aria-controls="overview" aria-selected="true">Payments Overview</a>
                </li>
              </ul>
            
              </div>
            </div>
            <div class="row">
              <div class="col d-flex flex-column">
                <div class="row flex-grow">
                  <div class="col-lg-12 grid-margin stretch-card">
                    <div class="card">
                      <div class="card-body overflow-auto">
                         <div style="display: flex; justify-content: space-between; align-items: center;">
                        <h4 class="card-title" style="margin: 0;">
                          {% if payment_status == 'all' %}
                            All Payments
                          {% elif payment_status == 'mpesa' %}
                            Mpesa Payments
                          {% elif payment_status == 'cash' %}
                            Cash Payments
                          {% endif %}
                        </h4>

                        </div>
                        <div class="table-responsive pt-3">
                          <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                            <thead>
                              <tr>
                                <th>Loan</th>
                                <th>Amount</th>
                                <th>Balance</th>
                                <th>Date</th>
                                <th>Mode of Payment</th>
                                <th>Phone Number</th>
                              </tr>
                            </thead>
                            <tbody>

                                <tr>
                                  <td>Loan#{{payment.loan.id}} - {{ payment.loan.customer.first_name }} {{ payment.loan.customer.last_name }}</td>
                                  <td>{{ payment.amount }}</td>
                                  <td>{{ payment.balance}}</td>
                                  <td>{{payment.date}}</td>
                                  <td>{{payment.mode_of_payment}}</td>
                                  <td>{{ payment.loan.customer.phone }}</td>
                                </tr>

                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
